<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Saho Secure Panel</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">

<style>
:root{
  --bg:#0b1220;
  --card:#111827;
  --acc:#22c55e;
  --warn:#f59e0b;
  --err:#ef4444;
  --txt:#e5e7eb;
}
*{box-sizing:border-box;font-family:Inter}
body{margin:0;background:var(--bg);color:var(--txt)}

.container{
  display:grid;
  grid-template-columns:1fr 1fr 1fr;
  gap:20px;
  padding:20px;
  height:100vh;
}

.card{
  background:linear-gradient(135deg,#111827,#1c1f2a);
  border-radius:20px;
  padding:25px;
  box-shadow:0 15px 40px rgba(0,0,0,.6);
}

.center{
  display:flex;
  align-items:center;
  justify-content:center;
  flex-direction:column;
}

.hidden{display:none}

input,button{
  width:100%;
  padding:14px;
  border:none;
  border-radius:12px;
  margin-top:10px;
  font-size:16px;
}

button{
  background:linear-gradient(135deg,#22c55e,#16a34a);
  color:white;
  font-weight:800;
  cursor:pointer;
}

.checkbox label{
  display:flex;
  align-items:center;
  gap:10px;
  margin:8px 0;
}

.spinner{
  width:70px;height:70px;
  border:8px solid rgba(255,255,255,.2);
  border-top:8px solid var(--acc);
  border-radius:50%;
  animation:spin 1s linear infinite;
  margin:auto;
}
@keyframes spin{to{transform:rotate(360deg)}}

.ok{color:var(--acc)}
.warn{color:var(--warn)}
.err{color:var(--err)}
</style>
</head>

<body>

<div class="container">

 <!-- SOL: Sorular -->
<div class="card" id="leftPanel" class="hidden">
  <h2>ğŸ“Š YÄ±ldÄ±z Kontrol</h2>

  <!-- 1. soru -->
  <div id="q1">
    <p>Åu an hesabÄ±nÄ±z kaÃ§ yÄ±ldÄ±z?</p>
    <input type="number" id="starNowInput" min="50" max="999">
    <button onclick="next1()">Devam</button>
  </div>

  <!-- 2. soru -->
  <div id="q2" class="hidden">
    <p>BugÃ¼n kaÃ§ yÄ±ldÄ±z kastÄ±nÄ±z?</p>
    <input type="number" id="starTodayInput" min="0" max="55">
    <button onclick="next2()">Devam</button>
  </div>

  <!-- 3. soru -->
  <div id="q3" class="hidden">
    <p>BugÃ¼n hangi Ã¶zellikleri kullandÄ±nÄ±z?</p>
    <div class="checkbox">
      <label><input type="checkbox" value="Pull Player"> Pull Player</label>
      <label><input type="checkbox" value="Aimbot"> Aimbot</label>
      <label><input type="checkbox" value="Chams"> Chams</label>
      <label><input type="checkbox" value="Macro"> Macro</label>
      <label><input type="checkbox" value="UID Bypass"> UID Bypass</label>
      <label><input type="checkbox" value="Teleport"> Teleport</label>
    </div>
    <button onclick="calculate()">Hesapla</button>
  </div>

  <!-- Loading -->
  <div id="loading" class="hidden">
    <div class="spinner"></div>
    <p style="text-align:center;margin-top:10px">SonuÃ§ hesaplanÄ±yor...</p>
  </div>

  <!-- SonuÃ§ -->
  <div id="result" class="hidden"></div>
</div>

<script>
// INPUT ELEMENTLERÄ° TANIMLA
const starNowInput = document.getElementById("starNowInput");
const starTodayInput = document.getElementById("starTodayInput");
const q1 = document.getElementById("q1");
const q2 = document.getElementById("q2");
const q3 = document.getElementById("q3");
const loading = document.getElementById("loading");
const result = document.getElementById("result");

// Devam butonlarÄ±
let starNow = 0;
let starToday = 0;

function next1(){
  starNow = Number(starNowInput.value);
  if(isNaN(starNow) || starNow<50 || starNow>999){
    alert("50-999 arasÄ± bir sayÄ± girin");
    return;
  }
  q1.classList.add("hidden");
  q2.classList.remove("hidden");
}

function next2(){
  starToday = Number(starTodayInput.value);
  if(isNaN(starToday) || starToday<0 || starToday>55){
    alert("0-55 arasÄ± bir sayÄ± girin");
    return;
  }
  q2.classList.add("hidden");
  q3.classList.remove("hidden");
}

// Hesaplama
function calculate(){
  q3.classList.add("hidden");
  loading.classList.remove("hidden");

  setTimeout(()=>{
    loading.classList.add("hidden");

    const checked = [...document.querySelectorAll('#q3 input[type=checkbox]:checked')]
      .map(c=>c.value);

    let maxAdd = 55;
    if(checked.includes("Pull Player") && checked.includes("UID Bypass")) maxAdd = 45;
    if(checked.includes("Aimbot") && checked.includes("UID Bypass")) maxAdd = 50;
    if(checked.includes("Chams") && checked.includes("Macro") && checked.includes("UID Bypass")) maxAdd = 55;
    if(checked.length >= 5) maxAdd = 40;

    const final = starNow + starToday;
    const limit = starNow + maxAdd;

    result.innerHTML = `
      <h3>ğŸ“Œ SonuÃ§</h3>
      <p>Åu an: ${starNow}</p>
      <p>BugÃ¼n: ${starToday}</p>
      <p>Final: ${final}</p>
      <p>Max GÃ¼venli: ${limit}</p>
      <p class="${final>limit?'err':'ok'}">
        ${final>limit?'âš ï¸ BAN RÄ°SKÄ°':'âœ”ï¸ GÃ¼venli'}
      </p>
      <p>SeÃ§ilen Ã–zellikler: ${checked.join(", ")}</p>
    `;
    result.classList.remove("hidden");
  },5000);
}
</script>


  <!-- ORTA: KeyAuth -->
  <div class="card center" id="loginPanel">
    <h1>ğŸ” KeyAuth</h1>
    <input id="keyInput" placeholder="License Key">
    <button onclick="login()">GiriÅŸ Yap</button>
    <div id="loginStatus"></div>
  </div>

  <!-- SAÄ: Hesap Bilgileri -->
  <div class="card" id="rightPanel">
    <h2>ğŸ‘¤ Hesap Bilgileri</h2>
    <p id="info">GiriÅŸ bekleniyor...</p>
    <p id="playerId"></p>
    <p id="username"></p>
    <p id="level"></p>
    <p id="region"></p>
    <p id="ban"></p>
    <p id="createDate"></p>
    <p id="language"></p>
  </div>

</div>

<script>
const API = "https://loan-nonbureaucratic-janeth.ngrok-free.dev";

let starNow = 0;
let starToday = 0;
let serverData = {};

function hwid(){
  return btoa(navigator.userAgent+screen.width+screen.height);
}

// Login
async function login(){
  const key = keyInput.value.trim();
  if(!key) return loginStatus.innerText="âŒ Key boÅŸ";

  const r = await fetch(API+"/login",{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({key, hwid:hwid()})
  });

  const d = await r.json();
  if(!d.ok) return loginStatus.innerText="âŒ "+d.message;

  serverData = d;

  loginStatus.innerText="âœ” GiriÅŸ baÅŸarÄ±lÄ±";

  // Sol panel aktif
  leftPanel.classList.remove("hidden");

  // SaÄŸ panel bilgileri
  info.innerText = d.info;
  playerId.innerText = "Oyuncu ID: "+(d.playerId||"1961018265");
  username.innerText = "KullanÄ±cÄ±: "+(d.username||"Umut");
  level.innerText = "Level: "+(d.level||"71");
  region.innerText = "Region: "+(d.region||"Europa");
  ban.innerText = "Ban durumu: "+(d.banStatus||"Herhangi bir ban yok");
  createDate.innerText = "Kurulum tarihi: "+(d.createDate||"26/04/2020, 08:05:38");
  language.innerText = "Language: "+(d.language||"TÃ¼rkÃ§e");

  // Login panel gizle
  loginPanel.classList.add("hidden");
}

// S1
function next1(){
  starNow = Number(starNowInput.value);
  if(isNaN(starNow) || starNow<50 || starNow>999) return;
  q1.classList.add("hidden");
  q2.classList.remove("hidden");
}

// S2
function next2(){
  starToday = Number(starTodayInput.value);
  if(isNaN(starToday) || starToday<0 || starToday>55) return;
  q2.classList.add("hidden");
  q3.classList.remove("hidden");
}

// S3 + hesaplama
function calculate(){
  q3.classList.add("hidden");
  loading.classList.remove("hidden");

  setTimeout(()=>{
    loading.classList.add("hidden");

    const checked = [...document.querySelectorAll('#q3 input[type=checkbox]:checked')]
      .map(c=>c.value);

    let maxAdd = 55;
    if(checked.includes("Pull Player") && checked.includes("UID Bypass")) maxAdd = 45;
    if(checked.includes("Aimbot") && checked.includes("UID Bypass")) maxAdd = 50;
    if(checked.includes("Chams") && checked.includes("Macro") && checked.includes("UID Bypass")) maxAdd = 55;
    if(checked.length >= 5) maxAdd = 40;

    const final = starNow + starToday;
    const limit = starNow + maxAdd;

    result.innerHTML = `
      <h3>ğŸ“Œ SonuÃ§</h3>
      <p>Åu an: ${starNow}</p>
      <p>BugÃ¼n: ${starToday}</p>
      <p>Final: ${final}</p>
      <p>Max GÃ¼venli: ${limit}</p>
      <p class="${final>limit?'err':'ok'}">
        ${final>limit?'âš ï¸ BAN RÄ°SKÄ°':'âœ”ï¸ GÃ¼venli'}
      </p>
      <p>SeÃ§ilen Ã–zellikler: ${checked.join(", ")}</p>
    `;
    result.classList.remove("hidden");
  },5000);
}

// SAYFA YENÄ°LENÄ°NCE Ã‡IKIÅ
window.onbeforeunload = () => {
  // paneli gizle, login aÃ§
  leftPanel.classList.add("hidden");
  q1.classList.remove("hidden");
  q2.classList.add("hidden");
  q3.classList.add("hidden");
  result.classList.add("hidden");
  loginPanel.classList.remove("hidden");
}
</script>

</body>
</html>
