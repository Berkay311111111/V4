<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Saho Control Panel</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">

<style>
:root{
  --bg:#0b1220;
  --card:#111827;
  --acc:#22c55e;
  --warn:#f59e0b;
  --err:#ef4444;
  --txt:#e5e7eb;
}
*{box-sizing:border-box;font-family:Inter}
body{margin:0;background:var(--bg);color:var(--txt)}
.hidden{display:none}

.container{
  max-width:1200px;
  margin:auto;
  padding:20px;
}

.grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:20px;
}

.card{
  background:linear-gradient(135deg,#111827,#1c1f2a);
  padding:25px;
  border-radius:20px;
  box-shadow:0 15px 40px rgba(0,0,0,.6);
}

h1,h2{margin:0 0 10px}

input,button{
  width:100%;
  padding:14px;
  border-radius:12px;
  border:none;
  font-size:16px;
  margin-top:10px;
}

button{
  background:linear-gradient(135deg,#22c55e,#16a34a);
  color:white;
  font-weight:800;
  cursor:pointer;
}

button:hover{opacity:.9}

.checkbox-group label{
  display:flex;
  align-items:center;
  gap:10px;
  margin:8px 0;
}

.status{margin-top:10px;font-weight:600}

.limit{color:var(--warn)}
.ok{color:var(--acc)}
.err{color:var(--err)}
</style>
</head>

<body>

<!-- LOGIN -->
<div class="container" id="loginBox">
  <div class="card" style="max-width:420px;margin:auto">
    <h1>ğŸ” License GiriÅŸ</h1>
    <input id="keyInput" placeholder="License Key">
    <button onclick="login()">GiriÅŸ Yap</button>
    <div class="status" id="loginStatus"></div>
  </div>
</div>

<!-- PANEL -->
<div class="container hidden" id="panelBox">

  <div class="grid">

    <!-- SOL -->
    <div class="card">
      <h1 id="welcome"></h1>
      <p id="banStatus"></p>

      <!-- SORU 1 -->
      <div id="q1">
        <h2>ğŸ® HesabÄ±n ÅŸu an kaÃ§ yÄ±ldÄ±z?</h2>
        <input type="number" id="currentStars">
        <button onclick="nextQ1()">Devam</button>
      </div>

      <!-- SORU 2 -->
      <div id="q2" class="hidden">
        <h2>â­ BugÃ¼n kaÃ§ yÄ±ldÄ±z kasmak istiyorsun?</h2>
        <input type="number" id="todayStars">
        <button onclick="nextQ2()">Devam</button>
      </div>

      <!-- SONUÃ‡ -->
      <div id="final" class="hidden"></div>
    </div>

    <!-- SAÄ -->
    <div class="card">
      <h2>ğŸ›  KullanÄ±lacak Ã–zellikler</h2>

      <div class="checkbox-group">
        <label><input type="checkbox" value="Pull Player"> Pull Player</label>
        <label><input type="checkbox" value="Aimbot"> Aimbot</label>
        <label><input type="checkbox" value="Chams"> Chams</label>
        <label><input type="checkbox" value="Macro"> Macro</label>
        <label><input type="checkbox" value="UID Bypass"> UID Bypass</label>
      </div>

      <button onclick="calculate()">Hesapla</button>
      <div id="limitInfo" class="status"></div>

      <button style="margin-top:20px;background:#2563eb"
        onclick="window.open('https://saho.exe','_blank')">
        â¬‡ï¸ Ä°NDÄ°R
      </button>

    </div>

  </div>
</div>

<script>
const API_URL = "https://loan-nonbureaucratic-janeth.ngrok-free.dev";
let serverData = {};
let currentStars = 0;
let todayStars = 0;

function getHWID(){
  return btoa(navigator.userAgent + screen.width + screen.height);
}

async function login(){
  const key = keyInput.value.trim();
  if(!key) return loginStatus.innerText="âŒ Key boÅŸ";

  loginStatus.innerText="Kontrol ediliyor...";

  const res = await fetch(API_URL+"/login",{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({key, hwid:getHWID()})
  });

  const data = await res.json();
  if(!data.ok) return loginStatus.innerText="âŒ "+data.message;

  serverData = data;
  loginBox.classList.add("hidden");
  panelBox.classList.remove("hidden");

  welcome.innerText = data.info;
  banStatus.innerText = data.banStatus;
}

function nextQ1(){
  currentStars = Number(currentStarsInput.value);
  if(isNaN(currentStars)) return;
  q1.classList.add("hidden");
  q2.classList.remove("hidden");
}

function nextQ2(){
  todayStars = Number(todayStarsInput.value);
  if(isNaN(todayStars)) return;
}

function calculate(){
  const checked = [...document.querySelectorAll('input[type=checkbox]:checked')]
    .map(c=>c.value);

  if(checked.length === 0){
    limitInfo.innerText="âŒ Ã–zellik seÃ§medin";
    limitInfo.className="status err";
    return;
  }

  let max = 55;

  if(checked.includes("Aimbot") && checked.includes("UID Bypass")) max = 50;
  if(checked.includes("Pull Player") && checked.includes("UID Bypass")) max = 45;
  if(checked.includes("Chams") && checked.includes("Macro") && checked.includes("UID Bypass")) max = 55;
  if(checked.length >= 4) max = 40;

  if(todayStars > max){
    limitInfo.innerHTML = `âš ï¸ Riskli! Max Ã¶nerilen: ${max} yÄ±ldÄ±z`;
    limitInfo.className="status limit";
    return;
  }

  final.innerHTML = `
    <h2>ğŸ“Š SonuÃ§</h2>
    <p>Mevcut: ${currentStars}</p>
    <p>BugÃ¼n: ${todayStars}</p>
    <p>Final: ${currentStars + todayStars}</p>
    <p>Max GÃ¼venli Limit: ${max}</p>
  `;
  final.classList.remove("hidden");
  limitInfo.innerText="âœ”ï¸ GÃ¼venli aralÄ±k";
  limitInfo.className="status ok";
}
</script>

</body>
</html>
