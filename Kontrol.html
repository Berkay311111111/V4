<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Saho Secure Dashboard</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #0b0c10;
            --card: #1f1f2e;
            --primary: #00fff7;
            --secondary: #ff00f7;
            --acc: #22c55e;
            --warn: #f59e0b;
            --err: #ff1f4c;
            --txt: #e5e7eb;
        }
        * { box-sizing: border-box; font-family: Inter, sans-serif; }
        body {
            margin: 0;
            background: var(--bg);
            color: var(--txt);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }
        .card {
            background: linear-gradient(135deg, #1f1f2e, #2c2c3a);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 0 20px rgba(0,255,255,.3), 0 0 40px rgba(255,0,255,.2);
            width: 100%;
            max-width: 1000px;
        }
        h1, h2, h3 { color: var(--primary); text-align: center; }
        .hidden { display: none; }
        input, button {
            width: 100%;
            padding: 12px;
            border: none;
            border-radius: 12px;
            margin-top: 10px;
            font-size: 16px;
            background: #111827;
            color: var(--txt);
        }
        button {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            font-weight: 800;
            cursor: pointer;
            transition: 0.3s;
        }
        button:hover { opacity: 0.8; }
        .spinner {
            width: 60px; height: 60px;
            border: 6px solid rgba(255,255,255,.2);
            border-top: 6px solid var(--acc);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: auto;
        }
        @keyframes spin { to { transform: rotate(360deg) } }
        .infoBox {
            background: rgba(0,255,255,0.1);
            padding: 10px;
            border-radius: 12px;
            margin-top: 10px;
            font-size: 14px;
            text-align: center;
        }
        .announcement {
            background: linear-gradient(135deg, rgba(0,255,247,0.2), rgba(255,0,247,0.2));
            padding: 12px;
            border-radius: 12px;
            margin-bottom: 20px;
            text-align: center;
            font-weight: 700;
            font-size: 15px;
            color: var(--acc);
            border: 1px solid rgba(0,255,255,0.3);
        }
        .main-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 25px;
            margin: 30px 0;
        }
        .reset-section {
            background: rgba(245,158,11,0.12);
            border: 1px solid rgba(245,158,11,0.4);
            border-radius: 12px;
            padding: 18px;
            margin: 25px 0;
        }
        .reset-btn {
            background: linear-gradient(135deg, #f59e0b, #d97706);
            font-size: 17px;
            margin-top: 12px;
        }
        .reset-info { font-size: 14px; margin-top: 10px; color: #f59e0b; text-align: center; }
        .warning {
            background: rgba(255,31,76,0.1);
            color: #ff1f4c;
            border: 1px solid #ff1f4c;
            border-radius: 12px;
            padding: 15px;
            margin-top: 12px;
            font-size: 14px;
            text-align: center;
            font-weight: 700;
            line-height: 1.4;
        }
        @media (max-width: 868px) { .main-grid { grid-template-columns: 1fr; } }
    </style>
</head>
<body>

    <!-- LOGIN -->
    <div class="card" id="loginCard">
        <h1>ğŸŒ SAHO TITAN ENGINE</h1>
        <input id="keyInput" placeholder="License Key">
        <button onclick="login()">GiriÅŸ Yap</button>
        <div id="loginStatus" class="infoBox hidden"></div>
    </div>

    <!-- DASHBOARD -->
    <div class="card hidden" id="dashboard">
        <h1>Saho V5 Black Engine</h1>
        <div id="loading" class="hidden">
            <div class="spinner"></div>
            <p>SAHO TITAN ENGINE serverine baÄŸlanÄ±lÄ±yor... ğŸŒ</p>
        </div>

        <div id="dashboardContent" class="hidden">
            <div class="announcement">
                GÃ¼ncellenmiÅŸ Paneldeki Ã–zellikler Hepsi 100% Safe! ğŸš€
            </div>

            <!-- HWID RESET BÃ–LÃœMÃœ -->
            <div class="reset-section">
                <h3>ğŸ”„ HWID Reset</h3>
                <p>Kalan sÄ±fÄ±rlama hakkÄ±nÄ±z: <strong id="resetLeft">2</strong>/2</p>
                <button class="reset-btn" id="resetButton" onclick="requestHwidReset()">HWID SÄ±fÄ±rla</button>
                <div class="reset-info" id="resetStatus"></div>
            </div>

            <div class="main-grid">
                <!-- Ã–zellikler + Ä°ndirme -->
                <div class="features-section">
                    <h2>Panel Ã–zellikleri</h2>
                    <ul>
                        <li>ğŸ¯ Pull Player</li>
                        <li>ğŸ†” UID Bypass</li>
                        <li>ğŸ”« Aimbot</li>
                        <li>âš¡ Fast Switch</li>
                        <li>âŒ¨ï¸ Macro</li>
                        <li>ğŸ‘ï¸ Hex Esp MenÃ¼</li>
                        <li>ğŸŒˆ Chams MenÃ¼</li>
                    </ul>
                    <div class="download-note">GÃ¼venle indir!</div>
                    <button class="download-btn" onclick="window.open('https://www.mediafire.com/file/n1iluvg1c7znl1h/SAHO+SERVER.rar/file','_blank')">
                        ğŸ“¥ SAHO V5 Ä°NDÄ°R
                    </button>
                </div>

                <!-- Hesap Bilgileri -->
                <div class="account-info">
                    <h2>ğŸ‘¤ Hesap Bilgileri</h2>
                    <div id="info"></div>
                    <div id="playerId"></div>
                    <div id="username"></div>
                    <div id="level"></div>
                    <div id="region"></div>
                    <div id="ban"></div>
                    <div id="createDate"></div>
                    <div id="language"></div>
                    <div class="infoBox" id="extraInfo"></div>
                </div>

                <!-- YÄ±ldÄ±z Hesaplama (kÄ±saltÄ±lmÄ±ÅŸ hali) -->
                <div id="questionPanel">
                    <div id="q1">
                        <p>Åu an hesabÄ±nÄ±z kaÃ§ yÄ±ldÄ±z?</p>
                        <input type="number" id="starNowInput" min="50" max="999">
                        <button onclick="next1()">Devam</button>
                    </div>
                    <!-- diÄŸer sorular... -->
                </div>
            </div>
        </div>
    </div>

<script>
const API = "http://localhost:3000"; // ngrok kullanÄ±yorsan deÄŸiÅŸtir
let resetCount = 0;
const MAX_RESET = 2;

function hwid() {
    return btoa(navigator.userAgent + screen.width + screen.height);
}

async function login() {
    const key = document.getElementById("keyInput").value.trim();
    const status = document.getElementById("loginStatus");
    status.classList.add("hidden");
    if (!key) {
        status.innerText = "âŒ Key boÅŸ olamaz!";
        status.classList.remove("hidden");
        return;
    }

    document.getElementById("loginCard").classList.add("hidden");
    document.getElementById("dashboard").classList.remove("hidden");
    document.getElementById("loading").classList.remove("hidden");

    await new Promise(r => setTimeout(r, 2500));
    document.getElementById("loading").classList.add("hidden");

    try {
        const r = await fetch(API + "/login", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ key, hwid: hwid() })
        });
        const d = await r.json();

        if (!d.ok) {
            document.getElementById("dashboard").classList.add("hidden");
            document.getElementById("loginCard").classList.remove("hidden");
            status.innerText = "âŒ " + d.message;
            status.classList.remove("hidden");
            return;
        }

        resetCount = d.resetCount || 0;
        updateResetDisplay();

        document.getElementById("dashboardContent").classList.remove("hidden");
        document.getElementById("info").innerText = d.info;
        document.getElementById("playerId").innerText = "ID: " + d.playerId;
        document.getElementById("username").innerText = "KullanÄ±cÄ±: " + d.username;
        document.getElementById("level").innerText = "Level: " + d.level;
        document.getElementById("region").innerText = "BÃ¶lge: " + d.region;
        document.getElementById("ban").innerText = "Ban: " + d.banStatus;
        document.getElementById("createDate").innerText = "OluÅŸturma: " + d.createTime;
        document.getElementById("language").innerText = "Dil: " + d.language;
        document.getElementById("extraInfo").innerText = `IP: Bekleniyor...`;
    } catch (err) {
        document.getElementById("dashboard").classList.add("hidden");
        document.getElementById("loginCard").classList.remove("hidden");
        status.innerText = "Sunucu baÄŸlantÄ± hatasÄ±";
        status.classList.remove("hidden");
    }
}

function updateResetDisplay() {
    const left = MAX_RESET - resetCount;
    document.getElementById("resetLeft").innerText = left;
    const btn = document.getElementById("resetButton");
    const status = document.getElementById("resetStatus");

    if (left <= 0) {
        btn.disabled = true;
        btn.style.opacity = "0.4";
        status.innerHTML = `Limit doldu.<br>3. sÄ±fÄ±rlama iÃ§in UID: <strong>7442955706</strong> 'e <strong>200</strong> elmas gÃ¶nderin!`;
        status.style.color = "#ff1f4c";
    } else {
        btn.disabled = false;
        btn.style.opacity = "1";
        status.innerHTML = "";
    }
}

async function requestHwidReset() {
    if (MAX_RESET - resetCount <= 0) {
        alert("Ãœcretsiz hakkÄ±n bitti!");
        return;
    }

    if (!confirm("HWID sÄ±fÄ±rlamak istediÄŸine emin misin?")) return;

    const status = document.getElementById("resetStatus");
    status.innerHTML = "Talep gÃ¶nderiliyor...";

    try {
        const res = await fetch(API + "/hwid-reset", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({
                key: document.getElementById("keyInput").value.trim(),
                current_hwid: hwid()
            })
        });

        const data = await res.json();

        if (data.success) {
            resetCount++;
            status.innerHTML = `âœ… Talep alÄ±ndÄ±!<br>2 dk iÃ§inde sÄ±fÄ±rlanacak.<br>Kalan hak: ${MAX_RESET - resetCount}`;
            updateResetDisplay();
        } else {
            status.innerHTML = "âŒ " + data.message;
            status.style.color = "#ff1f4c";
        }
    } catch (err) {
        status.innerHTML = "âš ï¸ BaÄŸlantÄ± hatasÄ±";
        status.style.color = "#ff1f4c";
    }
}

// YÄ±ldÄ±z hesaplama fonksiyonlarÄ± (kÄ±saltÄ±lmÄ±ÅŸ)
function next1() { /* ... */ }
function next2() { /* ... */ }
function calculate() { /* ... */ }
</script>
</body>
</html>
