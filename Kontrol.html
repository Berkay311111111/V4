<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Saho Panel</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<style>
body{margin:0;font-family:Inter;background:#0b1220;color:#e5e7eb;}
.container{display:flex;flex-direction:row;gap:20px;padding:20px;max-width:1200px;margin:auto;height:100vh;}
.card{background:#111827;padding:20px;border-radius:15px;flex:1;display:flex;flex-direction:column;gap:10px;}
input,button,select{padding:12px;border:none;border-radius:10px;}
button{cursor:pointer;font-weight:700;background:#22c55e;color:#fff;}
select[multiple]{height:150px;}
.hidden{display:none;}
.download{background:#2563eb;color:white;}
.reset{background:#f59e0b;color:black;}
.toggle{cursor:pointer;color:#22c55e;font-weight:700;}
</style>
</head>
<body>

<div class="container" id="loginBox">
  <div class="card">
    <h1>ğŸ” Key GiriÅŸ</h1>
    <input id="key" placeholder="License Key">
    <button onclick="login()">GiriÅŸ Yap</button>
  </div>
</div>

<div class="container hidden" id="panelBox">
  <!-- SOL -->
  <div class="card">
    <h1 id="welcome"></h1>
    <p id="info"></p>
    <p id="banStatus"></p>
    <h2>ğŸ® Oyuncu Bilgileri</h2>
    <p id="playerId"></p>
    <p id="username"></p>
    <p id="region"></p>
    <p id="level"></p>
    <p id="createTime"></p>
    <p id="language"></p>
    <h2>â­ YÄ±ldÄ±z Bilgisi</h2>
    <input type="number" id="totalStars" placeholder="Toplam YÄ±ldÄ±z">
    <input type="number" id="todayStars" placeholder="BugÃ¼n KastÄ±ÄŸÄ±n">
    <button onclick="saveStars()">Kaydet</button>
    <div id="finalBox" class="hidden"></div>
    <button class="download" onclick="window.open('https://saho.exe','_blank')">â¬‡ï¸ Ä°NDÄ°R</button>
    <button class="reset" onclick="resetUser()">ğŸ”„ KullanÄ±cÄ± DeÄŸiÅŸtir</button>
  </div>

  <!-- SAÄ -->
  <div class="card">
    <h2>ğŸ›  Ã–zellikler</h2>
    <select id="features" multiple>
      <option>Aimbot</option>
      <option>Fast Switch</option>
      <option>Macro GeliÅŸmiÅŸ</option>
      <option>64x Chams MenÃ¼</option>
      <option>Zero Detection System</option>
      <option>UID Bypass</option>
      <option>Hex Macro</option>
    </select>

    <h2 class="toggle" onclick="toggle('settings')">âš™ï¸ Ayarlar</h2>
    <ul id="settings" class="hidden">
      <li>Teleport</li>
      <li>Underkill</li>
      <li>Spawn Kill</li>
      <li>TP Heist</li>
      <li>Auto Refresh</li>
    </ul>

    <h2>âœ… Ã–nerilen</h2>
    <ul>
      <li>HUD Kodu: <b>#FFHUDT6O3jR0zSb5Po7eP</b></li>
      <li>BlueStacks: <b>1920x1080 / 320 DPI</b></li>
      <li>Genel Hassasiyet: <b>100 - 110</b></li>
    </ul>
  </div>
</div>

<script>
const API_URL = "https://loan-nonbureaucratic-janeth.ngrok-free.dev";
let data = JSON.parse(localStorage.getItem("saho")) || {};

function getHWID(){return btoa(navigator.userAgent+screen.width+screen.height);}

async function login(){
  const key = document.getElementById("key").value.trim();
  if(!key){alert("Key boÅŸ"); return;}

  try{
    const res = await fetch(API_URL+"/login",{
      method:"POST",
      headers:{"Content-Type":"application/json"},
      body:JSON.stringify({key, hwid:getHWID()})
    });
    const resp = await res.json();
    if(!resp.ok){alert("âŒ "+resp.message); return;}

    data = {...resp};
    localStorage.setItem("saho",JSON.stringify(data));
    loadPanel();
  }catch(e){alert("ğŸŒ Server kapalÄ± / ulaÅŸÄ±lamÄ±yor"); console.error(e);}
}

function loadPanel(){
  loginBox.classList.add("hidden");
  panelBox.classList.remove("hidden");

  welcome.innerText = data.info;
  info.innerText = "BitiÅŸ Tarihi: "+new Date(data.expiresAt).toLocaleString();
  banStatus.innerText = data.banStatus;
  playerId.innerText = "Oyuncu ID: "+data.playerId;
  username.innerText = "KullanÄ±cÄ± AdÄ±: "+data.username;
  region.innerText = "Region: "+data.region;
  level.innerText = "Level: "+data.level;
  createTime.innerText = "Create Time: "+data.createTime;
  language.innerText = "Language: "+data.language;

  if(data.totalStars && data.todayStars) showFinal();
}

function saveStars(){
  const total = Number(document.getElementById("totalStars").value);
  const today = Number(document.getElementById("todayStars").value);
  const features = [...document.getElementById("features").selectedOptions].map(o=>o.value);

  data.totalStars = total;
  data.todayStars = today;
  data.features = features;
  localStorage.setItem("saho",JSON.stringify(data));

  showFinal();
}

function showFinal(){
  const final = data.totalStars + data.todayStars;
  const box = document.getElementById("finalBox");
  box.innerHTML = `<h3>ğŸ“Š BugÃ¼nkÃ¼ Bilgiler</h3>
                   <p>Toplam YÄ±ldÄ±z: ${data.totalStars}</p>
                   <p>BugÃ¼n KastÄ±ÄŸÄ±nÄ±z: ${data.todayStars}</p>
                   <p>Final: ${final}</p>
                   <p>SeÃ§ilen Ã–zellikler: ${data.features.join(", ")}</p>`;
  box.classList.remove("hidden");
}

function toggle(id){document.getElementById(id).classList.toggle("hidden");}
function resetUser(){localStorage.removeItem("saho"); location.reload();}
if(data.playerId) loadPanel();
</script>
</body>
</html>
